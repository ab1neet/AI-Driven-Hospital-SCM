<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hospital Supply Chain Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/plotly.js/2.16.1/plotly.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
    <!-- Navigation Bar (matching homepage) -->
    <nav class="navbar navbar-expand-lg navbar-dark" style="background-color: var(--primary-blue);">
        <div class="container">
            <a class="navbar-brand" href="/">
                <i class="fas fa-hospital-alt me-2"></i> 
                Hospital Supply Chain
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="/">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="/dashboard/">Dashboard</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#features">Features</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#about">About</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Dashboard Header -->
    <div class="container mt-4">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h2 class="mb-0">Hospital Supply Chain Dashboard</h2>
            <div>
                <button class="btn btn-outline-primary me-2">
                    <i class="fas fa-sync-alt"></i> Refresh Data
                </button>
                <button class="btn btn-primary">
                    <i class="fas fa-file-pdf"></i> Export Report
                </button>
            </div>
        </div>
    </div>

    <!-- Dashboard Content -->
    <div class="container">
        <div class="row">
            <!-- Inventory Levels Card -->
            <div class="col-12">
                <div class="card mb-4">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <h5 class="mb-0">Current Inventory Levels vs Reorder Points</h5>
                        <div class="dropdown">
                            <button class="btn btn-sm btn-outline-secondary dropdown-toggle" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown">
                                <i class="fas fa-ellipsis-v"></i>
                            </button>
                            <ul class="dropdown-menu">
                                <li><a class="dropdown-item" href="#">View Details</a></li>
                                <li><a class="dropdown-item" href="#">Export Data</a></li>
                                <li><a class="dropdown-item" href="#">Print Chart</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="card-body">
                        <div id="inventory-chart" style="height: 400px;"></div>
                    </div>
                </div>
            </div>


            <!-- Critical Alerts Card -->
            <div class="col-md-6">
                <div class="card mb-4">
                    <div class="card-header">
                        <h5 class="mb-0">Critical Alerts</h5>
                    </div>
                    <div class="card-body p-0">
                        <ul class="list-group list-group-flush">
                            <li class="list-group-item d-flex align-items-center">
                                <span class="badge bg-danger me-2">!</span>
                                <div>
                                    <strong>Low stock alert: Product 1</strong>
                                    <div class="text-muted small">Current stock: 246 (108.6/day, 2.3 days remaining)</div>
                                </div>
                            </li>
                            <li class="list-group-item d-flex align-items-center">
                                <span class="badge bg-danger me-2">!</span>
                                <div>
                                    <strong>Critical item alert: Product 1</strong>
                                    <div class="text-muted small">High criticality item running low</div>
                                </div>
                            </li>
                            <!-- More alert items... -->
                        </ul>
                    </div>
                    <div class="card-footer bg-white">
                        <a href="#" class="btn btn-sm btn-outline-primary">View All Alerts</a>
                    </div>
                </div>
            </div>

            <!-- Performance Metrics Card -->
            <div class="col-md-6">
                <div class="card mb-4">
                    <div class="card-header">
                        <h5 class="mb-0">Performance Metrics</h5>
                    </div>
                    <div class="card-body">
                        <table class="table table-hover">
                            <thead>
                                <tr>
                                    <th>Metric</th>
                                    <th>Value</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Stock-out Rate</td>
                                    <td>2.3%</td>
                                    <td><span class="badge bg-success">Good</span></td>
                                </tr>
                                <tr>
                                    <td>Inventory Turnover</td>
                                    <td>4.8</td>
                                    <td><span class="badge bg-warning">Average</span></td>
                                </tr>
                                <!-- More metrics... -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/js/bootstrap.bundle.min.js"></script>
    <script>
        // Initialize charts and data
        document.addEventListener('DOMContentLoaded', function() {
            // Inventory chart initialization
            // This would be replaced with the actual data and configuration
            const inventoryChart = document.getElementById('inventory-chart');
            if (inventoryChart) {
                Plotly.newPlot(inventoryChart, 
                    // Sample data - would be replaced with actual data
                    [
                        {
                            x: Array.from({length: 100}, (_, i) => `Product ${i+1}`),
                            y: Array.from({length: 100}, () => Math.floor(Math.random() * 300)),
                            type: 'bar',
                            name: 'Stock Level',
                            marker: {color: '#3498db'}
                        },
                        {
                            x: Array.from({length: 100}, (_, i) => `Product ${i+1}`),
                            y: Array.from({length: 100}, () => Math.floor(Math.random() * 800)),
                            type: 'bar',
                            name: 'Reorder Point',
                            marker: {color: '#e74c3c'}
                        }
                    ],
                    {
                        margin: {t: 10, r: 10, b: 80, l: 60},
                        barmode: 'group',
                        xaxis: {
                            tickangle: -45,
                            automargin: true
                        },
                        yaxis: {
                            title: {text: 'Value'}
                        },
                        legend: {
                            orientation: 'h',
                            y: 1.1
                        },
                        template: 'plotly_white'
                    }
                );
            }
        });
    </script>
</body>
</html>